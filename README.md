Практически все доступные светомузыкальные эффекты собраны воедино, добавлена обработка нажатия на кнопку для поочередного переключения эффектов.

Вся конфигурация заключается в том, чтобы задать высоту и ширину матрицы в #define COLON_SIZE (высота) и #define COLON_AMOUNT (ширина) соответственно.

Параметр #define BRIGHT определяет яркость. Максимальная яркость - 255, но даже 128 единиц хватает с головой. Можно задать меньше, чтобы сберечь глаза и светодиоды и использовать блок питания меньшей мощности.

При желании в эффектах spectrum и analizerNoise можно включить/выключить пики посредством параметра #define SHOW_MAX (0 - выключено, 1 - включено). 

Всего доступно 4 эффекта:
- Спектр
- Спектроанализатор (по алгоритму повторяет спектр, но выводится только верхняя его половина; эффект получился совершенно случайно, когда перепутал высоту матрицы с шириной, потом немного адптировал код)
- Эффект с формой волны
- Бегущий огонь (реагирует на резкие звуки, при этом меняется цвет огонька; лучше всего наблюдается на одиночных гирляндах/лентах)

Попытался добавить еще эффектов, но на большее в Arduino Nano не хватает памяти. Так, бегущий огонь с огенной палитрой еще влезает, но работает крайне нестабильно, поэтому добавлять в проект его не стал.

Схема сборки, как это реализовано у меня под данный код:
![SCHEME](https://raw.githubusercontent.com/frol-aleksan/GyverColorMusicMatrix/main/scheme.png)

Схема сборно-разборной матрицы на разъемах:
![SCHEME](https://github.com/frol-aleksan/GyverPanelWiFi/blob/master/schemes/matrix%20scheme.jpg)

Примечания к схеме:
Линию +5В к крайнему по схеме разъему на шине питания не подводить, следующая матрица будет питаться от собственного блока питания. При этом земли всех матриц должны быть соединены вместе.

Направление разъемов на схеме соответствует действительности:

====< - «мама» (разъем с отверстиями)

====> - «папа» (разъем с штырьками)

Необходимое количество гирлянд и разъемов, а также примерную мощность блока питания можно посчитать в калькуляторе GyverMatrixCalculator по ссылке:
https://github.com/frol-aleksan/GyverMatrixCalculator
